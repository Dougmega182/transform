(()=>{var e={};e.id=105,e.ids=[105],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},53196:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o});var t=r(70260),i=r(28203),a=r(25155),n=r.n(a),d=r(67292),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(s,l);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2155)),"E:\\signonsite\\transform\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"E:\\signonsite\\transform\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["E:\\signonsite\\transform\\app\\dashboard\\page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},83206:(e,s,r)=>{Promise.resolve().then(r.bind(r,2155))},43886:(e,s,r)=>{Promise.resolve().then(r.bind(r,28488))},28488:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(45512),i=r(58009),a=r(79334),n=r(7777),d=r(97643),l=r(87021),o=r(28531),c=r.n(o),x=r(48857),h=r(94172),m=r(61075),u=r(79660);let f=(0,r(41680).A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);var j=r(64977),p=r(69193);function v(){let{user:e,loading:s}=(0,n.A)();(0,a.useRouter)();let[r,o]=(0,i.useState)([]),[v,b]=(0,i.useState)(!0);if(s||v)return(0,t.jsx)("div",{className:"container flex h-[calc(100vh-4rem)] items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-medium",children:"Loading..."}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we load your dashboard"})]})});if(!e)return null;let g="ADMIN"===e.role||"CEO"===e.role;return(0,t.jsxs)("div",{className:"container py-10",children:[(0,t.jsx)("h1",{className:"mb-2 text-3xl font-bold",children:"Dashboard"}),(0,t.jsxs)("p",{className:"mb-8 text-muted-foreground",children:["Welcome back, ",e.name,"!"]}),(0,t.jsxs)(p.tU,{defaultValue:"overview",className:"space-y-8",children:[(0,t.jsxs)(p.j7,{children:[(0,t.jsx)(p.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(p.Xi,{value:"sites",children:"Job Sites"}),g&&(0,t.jsx)(p.Xi,{value:"admin",children:"Admin"})]}),(0,t.jsxs)(p.av,{value:"overview",className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Job Sites"}),(0,t.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:r.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active job sites"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Inductions"}),(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"12"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Completed inductions"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"SWMS"}),(0,t.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"8"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Signed SWMS"})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.ZB,{className:"text-sm font-medium",children:"Hours"}),(0,t.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:"42"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hours this week"})]})]})]}),(0,t.jsx)("h2",{className:"text-2xl font-bold mt-8",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Sign In to Site"}),(0,t.jsx)(d.BT,{children:"Scan QR code or select a site to sign in"})]}),(0,t.jsxs)(d.Wu,{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"mb-4 bg-white p-4 rounded-lg border",children:(0,t.jsx)(f,{className:"h-32 w-32 text-primary"})}),(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/job-sites",children:"Select Site"})})]})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Complete Inductions"}),(0,t.jsx)(d.BT,{children:"View and complete required site inductions"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/inductions",children:"View Inductions"})})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Sign SWMS"}),(0,t.jsx)(d.BT,{children:"Review and sign Safe Work Method Statements"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/swms",children:"View SWMS"})})})]})]})]}),(0,t.jsxs)(p.av,{value:"sites",className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Recent Job Sites"}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(c(),{href:"/job-sites",children:"View All Sites"})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:e.name}),(0,t.jsx)(d.BT,{children:e.address})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(j.A,{className:"h-5 w-5 mr-2 text-muted-foreground"}),(0,t.jsxs)("span",{children:[e.activeWorkers," active workers"]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(l.$,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(c(),{href:`/job-sites/${e.id}`,children:"Details"})}),(0,t.jsx)(l.$,{asChild:!0,size:"sm",children:(0,t.jsx)(c(),{href:`/job-sites/${e.id}/sign-in`,children:"Sign In"})})]})]})]},e.id)),0===r.length&&(0,t.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-10 border rounded-lg",children:[(0,t.jsx)("p",{className:"mb-4 text-muted-foreground",children:"No job sites found"}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(c(),{href:"/job-sites/new",children:"Add Your First Job Site"})})]})]})]}),g&&(0,t.jsxs)(p.av,{value:"admin",className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Admin Tools"}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)(c(),{href:"/admin/dashboard",children:"Go to Admin Dashboard"})})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Site Overview"}),(0,t.jsx)(d.BT,{children:"View all site activity and compliance"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/admin/dashboard",children:"View Overview"})})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Manage Users"}),(0,t.jsx)(d.BT,{children:"Add, edit, or remove system users"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/admin/users",children:"Manage Users"})})})]}),(0,t.jsxs)(d.Zp,{children:[(0,t.jsxs)(d.aR,{children:[(0,t.jsx)(d.ZB,{children:"Generate Reports"}),(0,t.jsx)(d.BT,{children:"Create and view system reports"})]}),(0,t.jsx)(d.Wu,{children:(0,t.jsx)(l.$,{asChild:!0,className:"w-full",children:(0,t.jsx)(c(),{href:"/admin/reports",children:"View Reports"})})})]})]})]})]})]})}},97643:(e,s,r)=>{"use strict";r.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>d,wL:()=>x});var t=r(45512),i=r(58009),a=r(59462);let n=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let d=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let l=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let o=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let x=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s}));x.displayName="CardFooter"},69193:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>o,av:()=>c,j7:()=>l,tU:()=>d});var t=r(45512),i=r(58009),a=r(55613),n=r(59462);let d=a.bL,l=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.B8,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));l.displayName=a.B8.displayName;let o=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.l9,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));o.displayName=a.l9.displayName;let c=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.UC,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));c.displayName=a.UC.displayName},2155:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\signonsite\\\\transform\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\signonsite\\transform\\app\\dashboard\\page.tsx","default")},55613:(e,s,r)=>{"use strict";r.d(s,{B8:()=>B,UC:()=>M,bL:()=>A,l9:()=>Z});var t=r(58009),i=r(31412),a=r(6004),n=r(48305),d=r(98060),l=r(30830),o=r(59018),c=r(13024),x=r(30096),h=r(45512),m="Tabs",[u,f]=(0,a.A)(m,[n.RG]),j=(0,n.RG)(),[p,v]=u(m),b=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:t,onValueChange:i,defaultValue:a,orientation:n="horizontal",dir:d,activationMode:m="automatic",...u}=e,f=(0,o.jH)(d),[j,v]=(0,c.i)({prop:t,onChange:i,defaultProp:a});return(0,h.jsx)(p,{scope:r,baseId:(0,x.B)(),value:j,onValueChange:v,orientation:n,dir:f,activationMode:m,children:(0,h.jsx)(l.sG.div,{dir:f,"data-orientation":n,...u,ref:s})})});b.displayName=m;var g="TabsList",N=t.forwardRef((e,s)=>{let{__scopeTabs:r,loop:t=!0,...i}=e,a=v(g,r),d=j(r);return(0,h.jsx)(n.bL,{asChild:!0,...d,orientation:a.orientation,dir:a.dir,loop:t,children:(0,h.jsx)(l.sG.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:s})})});N.displayName=g;var w="TabsTrigger",y=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:t,disabled:a=!1,...d}=e,o=v(w,r),c=j(r),x=k(o.baseId,t),m=S(o.baseId,t),u=t===o.value;return(0,h.jsx)(n.q7,{asChild:!0,...c,focusable:!a,active:u,children:(0,h.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":m,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:x,...d,ref:s,onMouseDown:(0,i.m)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(t)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(t)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;u||a||!e||o.onValueChange(t)})})})});y.displayName=w;var C="TabsContent",R=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:i,forceMount:a,children:n,...o}=e,c=v(C,r),x=k(c.baseId,i),m=S(c.baseId,i),u=i===c.value,f=t.useRef(u);return t.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,h.jsx)(d.C,{present:a||u,children:({present:r})=>(0,h.jsx)(l.sG.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":x,hidden:!r,id:m,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&n})})});function k(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}R.displayName=C;var A=b,B=N,Z=y,M=R}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,178,739],()=>r(53196));module.exports=t})();