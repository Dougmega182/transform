(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{8334:(e,s,t)=>{Promise.resolve().then(t.bind(t,580))},580:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(5155),n=t(2115),i=t(6046),a=t(1289),d=t(4085),l=t(5007),c=t(2079),o=t(750),h=t(9286),u=t(3473),m=t(4858),x=t(2598),j=t(3239);let p=(0,t(7401).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var f=t(8501),v=t(5686),g=t(8173),y=t.n(g);let b=[{id:"swms_1",title:"Excavation Work",status:"approved",submittedBy:"John Contractor",submittedDate:"2023-09-15",approvedBy:"Site Manager"},{id:"swms_2",title:"Electrical Installation",status:"pending",submittedBy:"Electrical Co.",submittedDate:"2023-10-02",approvedBy:null},{id:"swms_3",title:"Scaffolding Assembly",status:"rejected",submittedBy:"Heights Specialists",submittedDate:"2023-10-10",approvedBy:null},{id:"swms_4",title:"Concrete Pouring",status:"approved",submittedBy:"Concrete Solutions",submittedDate:"2023-08-22",approvedBy:"Site Manager"},{id:"swms_5",title:"Asbestos Removal",status:"pending",submittedBy:"Safety Removals",submittedDate:"2023-10-18",approvedBy:null}];function N(){let{user:e,loading:s}=(0,a.A)(),t=(0,i.useRouter)(),[g,N]=(0,n.useState)(b);if((0,n.useEffect)(()=>{s||e||t.push("/auth/login")},[e,s,t]),s)return(0,r.jsx)("div",{className:"container flex h-[calc(100vh-4rem)] items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-medium",children:"Loading..."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait while we load your SWMS"})]})});if(!e)return null;let w=e=>{switch(e){case"approved":return(0,r.jsx)(h.E,{className:"bg-green-500",children:"Approved"});case"pending":return(0,r.jsx)(h.E,{variant:"outline",className:"border-yellow-500 text-yellow-500",children:"Pending"});case"rejected":return(0,r.jsx)(h.E,{variant:"destructive",children:"Rejected"});default:return(0,r.jsx)(h.E,{variant:"outline",children:e})}};return(0,r.jsxs)("div",{className:"container py-10",children:[(0,r.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Safe Work Method Statements"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage and approve SWMS for your site"})]}),(0,r.jsx)(d.$,{asChild:!0,children:(0,r.jsxs)(y(),{href:"/swms/new",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Create SWMS"]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"All SWMS"}),(0,r.jsx)(l.BT,{children:"View and manage all Safe Work Method Statements"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{children:"Title"}),(0,r.jsx)(c.nd,{children:"Status"}),(0,r.jsx)(c.nd,{children:"Submitted By"}),(0,r.jsx)(c.nd,{children:"Submitted Date"}),(0,r.jsx)(c.nd,{children:"Approved By"}),(0,r.jsx)(c.nd,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(c.BF,{children:g.map(e=>(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nA,{className:"font-medium",children:e.title}),(0,r.jsx)(c.nA,{children:w(e.status)}),(0,r.jsx)(c.nA,{children:e.submittedBy}),(0,r.jsx)(c.nA,{children:e.submittedDate}),(0,r.jsx)(c.nA,{children:e.approvedBy||"-"}),(0,r.jsx)(c.nA,{className:"text-right",children:(0,r.jsxs)(o.rI,{children:[(0,r.jsx)(o.ty,{asChild:!0,children:(0,r.jsxs)(d.$,{variant:"ghost",size:"icon",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,r.jsxs)(o.SQ,{align:"end",children:[(0,r.jsx)(o._2,{asChild:!0,children:(0,r.jsxs)(y(),{href:"/swms/".concat(e.id),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," View"]})}),"pending"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o._2,{className:"text-green-600",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Approve"]}),(0,r.jsxs)(o._2,{className:"text-red-600",children:[(0,r.jsx)(p,{className:"mr-2 h-4 w-4"})," Reject"]})]}),(0,r.jsx)(o._2,{asChild:!0,children:(0,r.jsxs)(y(),{href:"/swms/".concat(e.id,"/edit"),children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Edit"]})}),(0,r.jsxs)(o._2,{className:"text-red-600",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e.id))})]})})]})]})}},9286:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var r=t(5155);t(2115);var n=t(1027),i=t(9602);let a=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...n}=e;return(0,r.jsx)("div",{className:(0,i.cn)(a({variant:t}),s),...n})}},3239:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(7401).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[882,173,934,708,247,665,441,517,358],()=>s(8334)),_N_E=e.O()}]);