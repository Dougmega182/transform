(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{2270:(e,s,i)=>{Promise.resolve().then(i.bind(i,8924))},8924:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>g});var n=i(5155),t=i(2115),l=i(6046),c=i(1289),a=i(4085),d=i(2336),r=i(5785),o=i(371),h=i(5007),x=i(745),u=i(1641),j=i(9134),m=i(7364),v=i(5686),p=i(3473),y=i(7780),N=i(8173),f=i.n(N);function g(){let{user:e,loading:s}=(0,c.A)(),i=(0,l.useRouter)(),{toast:N}=(0,j.dj)(),[g,b]=(0,t.useState)("details"),[C,w]=(0,t.useState)([{id:"section_1",title:"Introduction",content:""}]);if((0,t.useEffect)(()=>{s||e||i.push("/auth/login")},[e,s,i]),s)return(0,n.jsx)("div",{className:"container flex h-[calc(100vh-4rem)] items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-lg font-medium",children:"Loading..."}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please wait"})]})});if(!e)return null;let k=(e,s,i)=>{w(C.map(n=>n.id===e?{...n,[s]:i}:n))},S=e=>{C.length>1?w(C.filter(s=>s.id!==e)):N({title:"Cannot remove section",description:"You must have at least one section in your induction",variant:"destructive"})};return(0,n.jsxs)("div",{className:"container py-10",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)(a.$,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,n.jsxs)(f(),{href:"/inductions",children:[(0,n.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Back to Inductions"]})}),(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Induction"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Create a new site induction for workers"})]}),(0,n.jsxs)(u.tU,{value:g,onValueChange:b,className:"space-y-4",children:[(0,n.jsxs)(u.j7,{children:[(0,n.jsx)(u.Xi,{value:"details",children:"Details"}),(0,n.jsx)(u.Xi,{value:"content",children:"Content"}),(0,n.jsx)(u.Xi,{value:"settings",children:"Settings"})]}),(0,n.jsx)(u.av,{value:"details",className:"space-y-4",children:(0,n.jsxs)(h.Zp,{children:[(0,n.jsxs)(h.aR,{children:[(0,n.jsx)(h.ZB,{children:"Induction Details"}),(0,n.jsx)(h.BT,{children:"Basic information about your induction"})]}),(0,n.jsxs)(h.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"title",children:"Title"}),(0,n.jsx)(d.p,{id:"title",placeholder:"e.g., General Site Induction"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"description",children:"Description"}),(0,n.jsx)(o.T,{id:"description",placeholder:"Describe what this induction covers",rows:4})]}),(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"duration",children:"Estimated Duration (minutes)"}),(0,n.jsx)(d.p,{id:"duration",type:"number",min:"1",placeholder:"15"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"status",children:"Status"}),(0,n.jsxs)(x.l6,{defaultValue:"draft",children:[(0,n.jsx)(x.bq,{id:"status",children:(0,n.jsx)(x.yv,{placeholder:"Select status"})}),(0,n.jsxs)(x.gC,{children:[(0,n.jsx)(x.eb,{value:"draft",children:"Draft"}),(0,n.jsx)(x.eb,{value:"active",children:"Active"}),(0,n.jsx)(x.eb,{value:"archived",children:"Archived"})]})]})]})]})]}),(0,n.jsx)(h.wL,{children:(0,n.jsx)(a.$,{onClick:()=>b("content"),children:"Continue to Content"})})]})}),(0,n.jsx)(u.av,{value:"content",className:"space-y-4",children:(0,n.jsxs)(h.Zp,{children:[(0,n.jsxs)(h.aR,{children:[(0,n.jsx)(h.ZB,{children:"Induction Content"}),(0,n.jsx)(h.BT,{children:"Add sections to your induction"})]}),(0,n.jsxs)(h.Wu,{className:"space-y-6",children:[C.map((e,s)=>(0,n.jsxs)("div",{className:"space-y-4 rounded-lg border p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("h3",{className:"text-lg font-medium",children:["Section ",s+1]}),(0,n.jsx)(a.$,{variant:"ghost",size:"icon",onClick:()=>S(e.id),disabled:1===C.length,children:(0,n.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"section-title-".concat(e.id),children:"Section Title"}),(0,n.jsx)(d.p,{id:"section-title-".concat(e.id),value:e.title,onChange:s=>k(e.id,"title",s.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"section-content-".concat(e.id),children:"Content"}),(0,n.jsx)(o.T,{id:"section-content-".concat(e.id),value:e.content,onChange:s=>k(e.id,"content",s.target.value),rows:6,placeholder:"Add content for this section..."})]})]},e.id)),(0,n.jsxs)(a.$,{variant:"outline",onClick:()=>{let e={id:"section_".concat(C.length+1),title:"Section ".concat(C.length+1),content:""};w([...C,e])},className:"w-full",children:[(0,n.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Add Section"]})]}),(0,n.jsxs)(h.wL,{className:"flex justify-between",children:[(0,n.jsx)(a.$,{variant:"outline",onClick:()=>b("details"),children:"Back to Details"}),(0,n.jsx)(a.$,{onClick:()=>b("settings"),children:"Continue to Settings"})]})]})}),(0,n.jsx)(u.av,{value:"settings",className:"space-y-4",children:(0,n.jsxs)(h.Zp,{children:[(0,n.jsxs)(h.aR,{children:[(0,n.jsx)(h.ZB,{children:"Induction Settings"}),(0,n.jsx)(h.BT,{children:"Configure additional settings for your induction"})]}),(0,n.jsxs)(h.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"requires-signature",children:"Requires Signature"}),(0,n.jsxs)(x.l6,{defaultValue:"yes",children:[(0,n.jsx)(x.bq,{id:"requires-signature",children:(0,n.jsx)(x.yv,{placeholder:"Select option"})}),(0,n.jsxs)(x.gC,{children:[(0,n.jsx)(x.eb,{value:"yes",children:"Yes"}),(0,n.jsx)(x.eb,{value:"no",children:"No"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"expiry",children:"Expiry Period (days)"}),(0,n.jsx)(d.p,{id:"expiry",type:"number",min:"0",placeholder:"365"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Set to 0 for no expiry"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(r.J,{htmlFor:"visibility",children:"Visibility"}),(0,n.jsxs)(x.l6,{defaultValue:"all-workers",children:[(0,n.jsx)(x.bq,{id:"visibility",children:(0,n.jsx)(x.yv,{placeholder:"Select visibility"})}),(0,n.jsxs)(x.gC,{children:[(0,n.jsx)(x.eb,{value:"all-workers",children:"All Workers"}),(0,n.jsx)(x.eb,{value:"specific-roles",children:"Specific Roles"}),(0,n.jsx)(x.eb,{value:"admin-only",children:"Admin Only"})]})]})]})]}),(0,n.jsxs)(h.wL,{className:"flex justify-between",children:[(0,n.jsx)(a.$,{variant:"outline",onClick:()=>b("content"),children:"Back to Content"}),(0,n.jsxs)(a.$,{onClick:()=>{N({title:"Induction saved",description:"Your induction has been saved successfully"}),i.push("/inductions")},children:[(0,n.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Save Induction"]})]})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[882,173,934,708,894,891,441,517,358],()=>s(2270)),_N_E=e.O()}]);